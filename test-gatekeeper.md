# 守门模式自定义文件信息功能测试

## 功能概述
在分享设置中，当用户启用守门模式时，可以自定义以下文件信息：
- 自定义文件名
- 自定义文件扩展名（提供常见扩展名选择）
- 自定义文件大小（以MB为单位输入）

## 测试步骤

### 1. 前端测试
1. 登录系统并上传一个测试文件
2. 点击文件的分享按钮
3. 在分享对话框中勾选"守门模式"
4. 验证是否出现自定义文件信息的输入字段：
   - 自定义文件名输入框
   - 自定义文件扩展名下拉选择
   - 自定义文件大小输入框（以MB为单位，支持小数）
5. 填写自定义信息并创建分享
6. 验证分享创建成功

### 2. 后端测试
1. 检查数据库中 file_shares 表是否正确添加了新字段：
   - custom_file_name
   - custom_file_extension  
   - custom_file_size
2. 验证创建分享时新字段是否正确保存（MB值已转换为字节存储）
3. 验证分享信息获取时是否返回自定义信息

### 3. 分享访问测试
1. 使用分享链接或取件码访问文件
2. 验证显示的文件信息是否为自定义信息
3. 验证守门模式下无法下载文件

## 预期结果
- 守门模式启用时显示自定义文件信息输入字段
- 自定义信息正确保存到数据库
- 分享访问时显示自定义的文件信息
- 保持守门模式的下载限制功能

## 常见扩展名选项
- PDF 文档 (.pdf)
- Word 文档 (.doc, .docx)
- Excel 表格 (.xls, .xlsx)
- PowerPoint (.ppt, .pptx)
- 文本文件 (.txt)
- 图片 (.jpg, .png)
- 视频 (.mp4)
- 音频 (.mp3)
- 压缩包 (.zip, .rar)
